<div class="user-manager">
  <div class="ui segment">
    <br/>
    <h1>User Management</h1>
    <div>
      <table class="ui compact celled definition table">
        <thead class="full-width ui inverted table">
          <tr class="ui">
            <th>Role</th>
            <th>ID</th>
            <th>Full Name</th>
            <th>Username</th>
            <th>Registration Date</th>
            <th>E-mail address</th>
            <th>Permissions</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of Users">
            <td class="collapsing">{{user.role}}</td>
            <td>{{user._id}}</td>
            <td>{{user.firstName}} {{user.lastName}}</td>
            <td>{{user.username}}</td>
            <td>{{user.entry_date}}</td>
            <td><a href="mailto:{{user.email}}">{{user.email}}</a></td>
            <td>{{user.permissions[0]}}</td>
            <td>
              <button (click)='openModal(".ui.viewModal")' class="ui icon button">
                <i class="eye icon green"></i>
              </button>
              <button class="ui icon button">
                <i class="edit icon blue"></i>
              </button>
              <button class="ui icon button" (click)='openModal(".ui.basic.modal.deleteUserModal")'>
                <i class="trash icon red"></i>
              </button>
            </td>
          </tr>
        </tbody>
        <tfoot class="full-width">
          <tr>
            <th></th>
            <th colspan="7">
              <div (click)="registerForm()" class="ui right floated small primary labeled icon button">
                <i class="add user icon"></i> Add User
              </div>
            </th>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>

  <div class="ui basic modal deleteUserModal">
    <div class="header">Confirm User Delete</div>

    <div class="content">
      <p></p>
    </div>
    <div class="actions">
      <div class="ui approve button" (click)='deleteUser("1")'>
        <i class="huge icons">
          <i class="red trash icon"></i>
        </i>
      </div>
      <div class="ui cancel button">
        <i class="huge icons">
          <i class="black remove circle icon"></i>
        </i>
      </div>
    </div>


  </div>

</div>

<div class="ui page addUser modal">
  <div class="header">
    Add User
  </div>
  <div class="content">
    <form class="ui form" [formGroup]="registrationForm" novalidate>
      <div class="field">
        <div class="fields">

          <div class="twelve ui wide field required">
            <label>First Name</label>
            <input type="text" formControlName="firstName" name="firstName" placeholder="First Name" required>
          </div>

          <div class="twelve ui wide field required">
            <label>Last Name</label>
            <input type="text" name="last Name" formControlName="lastName" placeholder="Last Name">
          </div>

          <div class="twelve ui wide field required">
            <label>Email</label>
            <input type="email" formControlName="email" name="email" placeholder="email" required>
          </div>

          <div class="twelve ui wide field required">
            <label>ID Number</label>
            <input type="text" formControlName="id_number" name="idNumber" placeholder="ID Number" required>
          </div>
        </div>

        <div class="fields">

          <div class="twelve ui wide field required">
            <label>User Name</label>
            <input type="text" formControlName="username" name="username" placeholder="User Name" required>
          </div>

          <div class="twelve ui wide field required">
            <label>Password</label>
            <input type="password" name="password" placeholder="Password">
          </div>

          <div class="twelve ui wide field required">
            <label>Repeat Password</label>
            <input type="password" formControlName="password" name="password" placeholder="Repeat Password" required>
          </div>
        </div>
      </div>
      <div class="actions">
        <div class="ui green button" (click)="register(registrationForm.value)">Submit</div>
        <div class="ui red button close" (click)="closeModal()">Cancel</div>
      </div>
    </form>
  </div>

</div>

